from selenium import webdriver
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support.ui import Select
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.chrome.options import Options
from webdriver_manager.chrome import ChromeDriverManager
from selenium.webdriver.common.action_chains import ActionChains
import time


def send_message_to_contact_from_clipboard(contact, driver):
    # inp_xpath_search = "//input[@title='Search or start new chat']"
    # inp_xpath_search = '//div[@class="_3FRCZ copyable-text selectable-text"][@contenteditable="true"][data-tab="3"]'
    # input_box_search = WebDriverWait(driver,50).until(lambda driver: driver.find_element_by_xpath(inp_xpath_search))
    input_box_search = WebDriverWait(driver, 50).until(lambda driver: driver.find_element_by_css_selector('div._3FRCZ'))
    input_box_search.click()
    actions = ActionChains(driver)
    actions.key_down(Keys.CONTROL)
    actions.send_keys("a")
    actions.key_up(Keys.CONTROL)
    actions.send_keys(Keys.DELETE)
    actions.perform()
    input_box_search.send_keys(contact)
    input_box_search.send_keys(Keys.ENTER)
    contactFound = WebDriverWait(driver, 50).until(lambda driver: driver.find_element_by_css_selector('div.DP7CM')).text
    if contactFound == contact:
        actions.key_down(Keys.CONTROL)
        actions.send_keys("v")
        actions.key_up(Keys.CONTROL)
        actions.send_keys(Keys.ENTER)
        actions.perform()
        actions.reset_actions()
        #time.sleep(2)
        actions = ActionChains(driver)
        # actions.send_keys("Register http://aolt.in/499013 (Fri morning, Sat/Sun evening) or http://aolt.in/499015 (all days evening)")
        #actions.send_keys(
         #   "Bharat Ji has been Gurudev's secretary for over 7 years and been with Gurudev since the age of 13, the course will be full of learning !! Register http://aolt.in/499013 (Fri morning, Sat/Sun evening) or http://aolt.in/499015 (all days evening). *Don't miss!*")
        # actions.send_keys("If you'd like to know more about why to do Sahaj and meditate, register for session today (Tuesday 15 Sep) at 6:30pm IST at https://bit.ly/whymeditate1 to get a zoom link to attend. Please also forward to friends and family who may benefit from it")
        # actions.send_keys("For live experience, register for session today (Sunday 13 Sep) at 5:30pm IST at https://tiny.cc/whymeditate to get a zoom link to attend. Please also forward to friends and family who may benefit from it")
        # actions.send_keys("Experience live on Tuesday (15 Sep) at 6:30pm IST, register at https://bit.ly/whymeditate1 to get a zoom link to attend. Please also forward to friends and family who may benefit from it")
        #actions.perform()
        #actions.reset_actions()
        actions = ActionChains(driver)
        actions.send_keys(Keys.ENTER)
        actions.perform()
        actions.reset_actions()
        # input_box_search = WebDriverWait(driver, 50).until(
        #   lambda driver: driver.find_element_by_css_selector('div._3FRCZ'))
        input_box_search.click()
        actions = ActionChains(driver)
        actions.key_down(Keys.CONTROL)
        actions.send_keys("a")
        actions.key_up(Keys.CONTROL)
        actions.send_keys(Keys.DELETE)
        actions.perform()
        #time.sleep(2)
        # input_box_search.send_keys("On this beautiful occasion of *Teachers' Day* !! \n\n‚ñ∂Ô∏èAnnouncing The most awaited ‚ú®\n‚ú≥Ô∏è Online Sahaj Samadhi Meditation Program\n with our beloved Bharat Vig jiüòá\n\n‚ú≥Ô∏è18thSep - 20th Sep\n(Friday-Sunday)\nTwo batches\n7:30AM-9:30AM\n6:30PM-8:30PM\n\n19,20  Sep Combined batch \n6:30pm to 8:30pm\n\n‚ú≥Ô∏è Experience deep effortless Meditaton with your personal Mantra.\n\n‚ú≥Ô∏è Exclusive for 10 participants per batch.\n\n‚ú≥Ô∏è Eligibility: 16years & Above.\n\n‚ú≥Ô∏è Register\nMorning 6.30 to 8.30 am (Friday) and Evening 6.30pm to 8.30pm (Saturday, Sunday)\nhttp://aolt.in/499013\n\nEvening 6.30pm to 8.30pm (Friday, Saturday, Sunday)\nhttp://aolt.in/499015\n\nHelpline: 9810057557")
        # input_box_search.send_keys(Keys.ENTER)
        # additionalTextField = WebDriverWait(driver, 50).until(lambda driver: driver.find_element_by_css_selector('div._3FRCZ copyable-text selectable-text'))
        # actions.send_keys("Join https://artoflivingca.zoom.us/j/4573851235 for a preview into the deep dive course! Don't miss! *Today 11am*")
        # actions.send_keys(Keys.ENTER)
        # actions.perform()


driver = webdriver.Chrome(ChromeDriverManager().install())
driver.get("https://web.whatsapp.com")
contact_list = ["+14166700459","+16477048850","+16786503494","+17144784520","+917022141366","+917207878005","+917387425021","+917708599935","+917780652420","+917795959565","+917869072590","+917869441100","+917875052012","+918103666877","+918281730400","+918372867954","+918390232007","+918408800908","+918448640734","+918500639693","+918552888331","+918606638479","+918860914049","+918888820969","+919004078198","+919004389778","+919004398443","+919022790094","+919035176103","+919051079667","+919152414188","+919246545426","+919310606052","+919353773783","+919354323292","+919370860461","+919391106847","+919403595480","+919406298132","+919415223366","+919422714527","+919423105799","+919447251868","+919448228021","+919449802025","+919481306338","+919497216869","+919513297648","+919545520305","+919556883103","+919560901030","+919599220583","+919619906997","+919620353702","+919620947215","+919632644550","+919650602072","+919654489919","+919663314840","+919676697722","+919703422136","+919704008887","+919712663234","+919731747878","+919757408978","+919766063312","+919773791372","+919781636338","+919810522056","+919819127322","+919819201310","+919819282540","+919819939672","+919820002496","+919820017735","+919820053343","+919820055551","+919820092522","+919820103164","+919820794173","+919820904373","+919821110908","+919821236409","+919821350443","+919830092921","+919831346888","+919831844980","+919833091981","+919833162267","+919850834062","+919867931674","+919869722236","+919871396992","+919880264919","+919880485464","+919886559429","+919886587785","+919886895874","+919892300004","+919892895299","+919900161153","+919900690775","+919910043612","+919916135566","+919917850414","+919920163382","+919921604903","+919930695558","+919952141909","+919953965125","+919958306669","+919962584790","+919962652143","+919967714544","+919971002536","+919971006725","+919972045948","+919972046545","+919972347429","+919972490513","+919975696847","+919980592845","+919986817248","+919987320135","+919987687772","+919994361106","+919995558219","+919995914440","+971508442120","+97339829659","Phone","+1 (469) 734-9455","+1 (510) 813-4452","+91 6280 849 165","+91 6294 131 363","+91 6294 998 407","+91 6296 425 754","+91 6355 891 105","+91 6362 064 124","+91 6363 929 756","+91 72580 79071","+91 73500 17214","+91 74832 72450","+91 75035 55539","+91 75065 99118","+91 75418 10018","+91 76979 77515","+91 77097 26599","+91 77427 81071","+91 77769 53631","+91 78146 22355","+91 78380 88368","+91 78944 24563","+91 79783 66312","+91 79993 53967","+91 80084 88499","+91 80171 27826","+91 80888 82800","+91 81019 75125","+91 82407 95911","+91 82753 21689","+91 82838 40683","+91 83081 21390","+91 83830 33678","+91 84016 65759","+91 84461 62042","+91 84483 89837","+91 85439 02788","+91 85860 60360","+91 85977 59331","+91 86094 17854","+91 86100 49287","+91 87505 63006","+91 87883 39633","+91 87907 41506","+91 88609 44012","+91 89814 24258","+91 89896 73071","+91 90320 33308","+91 90496 08982","+91 91001 36930","+91 91608 88029","+91 91775 93619","+91 91778 57965","+91 92233 59664","+91 93033 40344","+91 93240 75905","+91 93272 20774","+91 93354 07434","+91 93580 59284","+91 93803 66202","+91 93947 01443","+91 94030 58045","+91 94032 44904","+91 94121 75778","+91 94172 22762","+91 94218 36727","+91 94311 13354","+91 94342 15642","+91 94347 14323","+91 94737 55720","+91 94786 77243","+91 95383 32500","+91 95387 90995","+91 95601 42301","+91 95815 41089","+91 95820 84357","+91 95821 59714","+91 95939 66696","+91 95993 04452","+91 96116 22411","+91 96141 10144","+91 96191 90108","+91 96250 66933","+91 96278 32800","+91 96324 01698","+91 96507 37327","+91 96543 53589","+91 96654 86679","+91 96666 96665","+91 96740 90949","+91 96867 22552","+91 96899 83839","+91 97035 73205","+91 97111 70256","+91 97123 86288","+91 97127 33997","+91 97144 01443","+91 97341 03186","+91 97480 89107","+91 97573 87868","+91 97654 11896","+91 97756 49181","+91 97921 03602","+91 98043 99477","+91 98104 66692","+91 98104 77708","+91 98111 44541","+91 98113 24922","+91 98113 46092","+91 98117 42695","+91 98152 76425","+91 98182 18901","+91 98195 44594","+91 98196 73619","+91 98198 29393","+91 98209 41081","+91 98213 34320","+91 98228 51656","+91 98251 32410","+91 98269 17178","+91 98299 03412","+91 98308 16519","+91 98444 41615","+91 98452 95183","+91 98480 60140","+91 98481 98889","+91 98495 91430","+91 98506 27870","+91 98554 44007","+91 98675 59642","+91 98678 79859","+91 98679 70188","+91 98682 17266","+91 98692 51412","+91 98693 74480","+91 98700 22212","+91 98710 95060","+91 98730 79624","+91 98732 99372","+91 98761 80354","+91 98790 33077","+91 98809 70078","+91 98831 60626","+91 98858 20845","+91 98863 81414","+91 98866 47990","+91 98905 70065","+91 98905 91973","+91 98915 06002","+91 98920 87983","+91 98924 00605","+91 98991 27279","+91 99105 00644","+91 99111 94885","+91 99113 03186","+91 99122 71272","+91 99147 23611","+91 99232 52541","+91 99303 58855","+91 99323 46733","+91 99596 18987","+91 99616 58451","+91 99638 82233","+91 99707 91681","+91 99857 44977","+91 99887 76022","+91 99998 33627","+971 56 442 4485","+1 (408) 533-5608","+1 (512) 658-3122","+1 (801) 866-2697","+353 89 951 5869","+91 6284 167 650","+91 70383 38866","+91 70547 50350","+91 70581 07976","+91 72180 50006","+91 72599 33558","+91 73092 02836","+91 73818 17790","+91 73870 97668","+91 74004 51884","+91 74858 01004","+91 76749 78215","+91 77268 12135","+91 78878 08752","+91 79882 10264","+91 80000 75090","+91 80100 67719","+91 80955 92513","+91 81053 15495","+91 81058 63313","+91 81090 96771","+91 81495 69714","+91 81976 04886","+91 82081 37407","+91 82370 75727","+91 82994 22196","+91 83699 16143","+91 83739 00998","+91 84212 42207","+91 84470 49071","+91 85859 82603","+91 86685 14100","+91 87004 74273","+91 87208 75831","+91 87655 44540","+91 88005 21221","+91 88671 90968","+91 88793 00784","+91 89091 77292","+91 89201 20310","+91 89538 85524","+91 89555 53303","+91 89594 41164","+91 90049 26914","+91 90829 62360","+91 91300 16365","+91 91300 24667","+91 91741 10147","+91 91791 38718","+91 92166 59128","+91 92232 20813","+91 93102 82221","+91 93112 59344","+91 93136 41848","+91 93347 11696","+91 93433 82983","+91 93507 06446","+91 93554 64178","+91 93722 71083","+91 94046 81807","+91 94075 23231","+91 94112 73922","+91 94126 75853","+91 94150 23359","+91 94152 23630","+91 94223 71700","+91 94224 69516","+91 94224 69708","+91 94227 73670","+91 94232 67461","+91 94235 35670","+91 94260 83124","+91 94305 06783","+91 94351 95906","+91 94600 12760","+91 94603 88334","+91 94666 95300","+91 95214 32934","+91 95384 26096","+91 95459 34646","+91 95546 95656","+91 95607 73434","+91 95796 28850","+91 95822 66433","+91 95823 15666","+91 95828 30475","+91 95959 31099","+91 95959 86398","+91 95998 03585","+91 96025 65496","+91 96308 30703","+91 96460 04677","+91 96509 96014","+91 96509 98161","+91 96544 62544","+91 96575 43413","+91 97171 80563","+91 97302 72237","+91 97309 33300","+91 97402 32222","+91 97649 47681","+91 97652 56263","+91 97663 76418","+91 97671 21628","+91 97796 97836","+91 98100 06136","+91 98100 07833","+91 98100 18371","+91 98100 38239","+91 98100 98903","+91 98101 01334","+91 98101 02472","+91 98101 52484","+91 98103 68041","+91 98106 22880","+91 98106 76485","+91 98108 72422","+91 98109 20108","+91 98110 47510","+91 98111 04930","+91 98111 75240","+91 98113 00655","+91 98113 96475","+91 98115 57645","+91 98116 75350","+91 98117 04171","+91 98118 90893","+91 98180 25632","+91 98182 13263","+91 98182 18371","+91 98182 54405","+91 98183 73283","+91 98186 91936","+91 98189 35551","+91 98190 54564","+91 98200 00493","+91 98201 95817","+91 98203 42276","+91 98209 70901","+91 98223 24086","+91 98230 11261","+91 98260 66222","+91 98336 16625","+91 98452 01959","+91 98452 12008","+91 98500 04660","+91 98505 29145","+91 98675 02956","+91 98676 36616","+91 98681 55809","+91 98683 26445","+91 98685 16394","+91 98711 38888","+91 98712 92714","+91 98713 85513","+91 98715 62227","+91 98716 58171","+91 98718 24758","+91 98718 33777","+91 98719 29402","+91 98734 38122","+91 98739 12992","+91 98812 75204","+91 98816 77505","+91 98868 60647","+91 98915 13797","+91 98917 42474","+91 98917 99895","+91 98980 58711","+91 98994 74659","+91 98999 30350","+91 98999 37439","+91 99011 22922","+91 99037 21484","+91 99100 05613","+91 99100 73523","+91 99100 83221","+91 99108 00370","+91 99111 05780","+91 99113 41100","+91 99113 73100","+91 99157 77832","+91 99203 89399","+91 99204 43096","+91 99205 30965","+91 99216 83400","+91 99221 56159","+91 99225 85134","+91 99231 02627","+91 99398 30609","+91 99581 47051","+91 99582 07878","+91 99584 47755","+91 99585 19766","+91 99586 64434","+91 99670 43807","+91 99701 56515","+91 99710 11833","+91 99719 82782","+91 99752 39172","+91 99773 07937","+91 99883 64843","+91 99900 13973","+91 99902 47287","+91 99992 49051","+91 99993 78876","+91 99998 91598","+91 99999 27813","+91 9999943583","+1(302)229-6743","+917511134455","+919538600075","+919540244250","+919560064860","+919560149794","+919560500245","+919590694025","+919599459869","+919611243947","+919620461661","+917572910626","+919633376215","+919644799818","+919650484667","+919663376393","+919667838456","+919712069008","+919712977927","+919717436060","+919718714780","+919727908881","+917715976762","+919729747376","+919731069598","+919731542343","+919738117987","+919739903777","+919739981554","+919740022244","+919748531923","+919764001966","+919765406130","+917745895949","+919769581556","+919810115407","+919810910780","+919810939421","+919810961164","+919811130781","+919811231678","+919811897951","+919814809430","+919819132626","+917760434923","+919819240566","+919819335982","+919819402804","+919819545541","+919819912003","+919820133378","+919820410388","+919820840945","+919820985374","+919821168404","+919821751979","+919823016168","+919823279829","+919824631006","+919825007308","+919825094264","+919825112600","+919825181889","+919825235054","+917774078817","+919825332829","+919832293999","+919833565757","+919844149710","+919845019735","+919845089647","+919845719345","+919845999701","+919847156362","+919850822112","+917838151297","+919868521455","+919871755108","+919873922132","+919880051645","+919880111477","+919880245882","+919880675192","+919880839611","+919880892213","+917878115050","+919886185518","+919886332431","+919886534453","+919889946447","+919890024228","+919900014476","+919900244735","+919900583074","+919901454398","+919904304329","+917888762962","+919920011619","+919920074776","+919920520028","+919920647473","+919920845548","+919924227236","+919925019868","+919925221124","+919930229225","+916261559501","+917899053899","+919945358365","+919948094225","+919961505364","+919964005069","+919967552795","+919969128647","+919972531822","+919978307414","+917903164595","+919987142181","+919987338829","+919998057938","+919998277789","+919999110274","+919999169801","+919999731165","+917984167177","+917986298875","+917987689801","+918105558484","+918128284224","+918169693785","+918197271146","+916362406851","+918223901234","+918239066030","+918317393917","+918414952304","+918547116879","+918547871704","+918588036987","+918606633311","+918629853888","+918660962719","+916383789326","+918691979999","+918791726605","+918814055853","+918861106699","+918884999448","+918886013122","+918890108108","+918892238950","+918956927752","+917069097607","+918971065417","+918971630329","+918980003812","+919008997900","+919011011671","+919015658623","+919033799787","+919076983154","+919096297145","+919099029857","+917090510434","+919099935721","+919099952339","+919130211236","+919165999000","+919206131008","+919224269579","+919225836050","+919312281761","+919315751417","+917090516677","+919324384704","+919324841148","+919342333416","+919342527068","+919372074986","+919372395207","+919374837809","+919377598319","+919400364076","+919409057245","+917377723321","+919416258602","+919422506075","+919426257447","+919426486382","+919427046086","+919428833949","+919428837567","+919429440224","+919435723663","+917417314910","+919438448088","+919448241592","+919448300162","+919448682255","+919451667385","+919466688455","+919478574499","+919481160382","+919495092314","+919535518433"]
print("Scan QR Code, And then Enter")
input()
print("Logged In")
for contact in contact_list:
    send_message_to_contact_from_clipboard(contact, driver)
driver.quit()
